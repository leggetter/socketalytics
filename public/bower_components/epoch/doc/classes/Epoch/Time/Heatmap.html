<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>CoffeeScript API Documentation</title>
  <link rel='stylesheet' href='../../../assets/codo.css' type='text/css'>
  <script src='../../../assets/codo.js'></script>
  <script src='../../../assets/search_data.js'></script>
</head>
  <body>
    <div id='base' data-path='../../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../../README.md.html' title='Epoch'>Epoch</a>
    &raquo;
    <a href='../../../class_index.html' title='Index'>Index</a>
    &raquo;
    <span class='title'>Epoch</span>
    &raquo;
    <span class='title'>Time</span>
    &raquo;
    <span class='title'>Heatmap</span>
    <nav>
      <ul>
        <li class='noframes'>
          (<a class='noframes' href='#'>no frames</a>)
        </li>
      </ul>
    </nav>
    <div id='search'>
      <a id='class_list_link' href='../../../class_list.html'>Classes</a>
      <a id='file_list_link' href='../../../file_list.html'>Files</a>
      <a id='method_list_link' href='../../../method_list.html'>Methods</a>
      <a id='extra_list_link' href='../../../extra_list.html'>Extras</a>
    </div>
  </div>
  <iframe id='search_frame'></iframe>
  <div id='fuzzySearch'>
    <input type='text'>
    <ol></ol>
  </div>
  <div id='help'>
    <p>
      Quickly fuzzy find classes, mixins, methods, file:
    </p>
    <ul>
      <li>
        <span>Ctrl-T</span>
        Open fuzzy finder dialog
      </li>
    </ul>
    <p>
      In frame mode you can toggle the list naviation frame on the left side:
    </p>
    <ul>
      <li>
        <span>Ctrl-L</span>
        Toggle list view
      </li>
    </ul>
    <p>
      You can focus a list in frame mode or toggle a tab in frameless mode:
    </p>
    <ul>
      <li>
        <span>Ctrl-C</span>
        Class list
      </li>
      <li>
        <span>Ctrl-I</span>
        Mixin list
      </li>
      <li>
        <span>Ctrl-F</span>
        File list
      </li>
      <li>
        <span>Ctrl-M</span>
        Method list
      </li>
      <li>
        <span>Ctrl-E</span>
        Extras list
      </li>
    </ul>
    <p>
      You can focus and blur the search input:
    </p>
    <ul>
      <li>
        <span>Ctrl-S</span>
        Focus search input
      </li>
      <li>
        <span>Esc</span>
        Blur search input
      </li>
    </ul>
    <p>
      In frameless mode you can close the list tab:
    </p>
    <ul>
      <li>
        <span>Esc</span>
        Close list tab
      </li>
    </ul>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        Epoch.Time.Heatmap
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>coffee&#47;time&#47;heatmap.coffee</td>
        </tr>
        <tr>
          <td>Inherits:</td>
          <td>
            <a href='../../../classes/Epoch/Time/Plot.html'>Epoch.Time.Plot</a>
          </td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <p>Real-time Heatmap Implementation.</p>
</div>
<div class='tags'>
</div>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#constructor-instance'>
        - (void) <strong>constructor</strong>(options)
      </a>
    </span>
    <span class='constructor note title'>Constructor</span>
    <span class='desc'>
      Creates a new heatmap.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#setData-instance'>
        - (void) <strong>setData</strong>(data)
      </a>
    </span>
    <span class='desc'>
      Prepares initially set data for rendering.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_prepareEntry-instance'>
        - (void) <strong>_prepareEntry</strong>(entry)
      </a>
    </span>
    <span class='desc'>
      Distributes the full histogram in the entry into the defined buckets for the visualization.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#y-instance'>
        - (Function) <strong>y</strong>()
      </a>
    </span>
    <span class='desc'>
      
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#h-instance'>
        - (Number) <strong>h</strong>()
      </a>
    </span>
    <span class='desc'>
      
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_offsetX-instance'>
        - (Number) <strong>_offsetX</strong>()
      </a>
    </span>
    <span class='desc'>
      
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setupPaintCanvas-instance'>
        - (void) <strong>_setupPaintCanvas</strong>()
      </a>
    </span>
    <span class='desc'>
      Creates the painting canvas which is used to perform all the actual drawing.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_paintEntry-instance'>
        - (void) <strong>_paintEntry</strong>(entryIndex = null, drawColumn = null)
      </a>
    </span>
    <span class='desc'>
      Paints a single entry column on the paint canvas at the given column.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_shiftPaintCanvas-instance'>
        - (void) <strong>_shiftPaintCanvas</strong>()
      </a>
    </span>
    <span class='desc'>
      This shifts the image contents of the paint canvas to the left by 1 column width.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_avgLab-instance'>
        - (String) <strong>_avgLab</strong>(entries, bucket)
      </a>
    </span>
    <span class='desc'>
      Performs an averaging of the colors for muli-layer heatmaps using the lab color space.
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#draw-instance'>
        - (void) <strong>draw</strong>(delta = 0)
      </a>
    </span>
    <span class='desc'>
      Copies the paint canvas onto the display canvas, thus rendering the heatmap.
    </span>
  </li>
</ul>
      <h2>
        <small>Inherited Method Summary</small>
      </h2>
      <h3 class='inherited'>
        Methods inherited from
        <a href='../../../classes/Epoch/Time/Plot.html'>Epoch.Time.Plot</a>
      </h3>
      <p class='inherited'>
                <a href='../../../classes/Epoch/Time/Plot.html#constructor-instance'>#constructor</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#setData-instance'>#setData</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_offsetX-instance'>#_offsetX</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_prepareTimeAxes-instance'>#_prepareTimeAxes</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_prepareRangeAxes-instance'>#_prepareRangeAxes</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#leftAxis-instance'>#leftAxis</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#rightAxis-instance'>#rightAxis</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#hasAxis-instance'>#hasAxis</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#innerWidth-instance'>#innerWidth</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#innerHeight-instance'>#innerHeight</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_prepareEntry-instance'>#_prepareEntry</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_prepareLayers-instance'>#_prepareLayers</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_startTransition-instance'>#_startTransition</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_stopTransition-instance'>#_stopTransition</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#inTransition-instance'>#inTransition</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#push-instance'>#push</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_shift-instance'>#_shift</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_animate-instance'>#_animate</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#y-instance'>#y</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#w-instance'>#w</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_updateTicks-instance'>#_updateTicks</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_pushTick-instance'>#_pushTick</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_shiftTick-instance'>#_shiftTick</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#_updateTimeAxes-instance'>#_updateTimeAxes</a>,
                <a href='../../../classes/Epoch/Time/Plot.html#clear-instance'>#clear</a>,
        <a href='../../../classes/Epoch/Time/Plot.html#draw-instance'>#draw</a>
      </p>
      <h3 class='inherited'>
        Methods inherited from
        <a href='../../../classes/Epoch/Chart/Canvas.html'>Epoch.Chart.Canvas</a>
      </h3>
      <p class='inherited'>
                <a href='../../../classes/Epoch/Chart/Canvas.html#constructor-instance'>#constructor</a>,
        <a href='../../../classes/Epoch/Chart/Canvas.html#getStyles-instance'>#getStyles</a>
      </p>
      <h3 class='inherited'>
        Methods inherited from
        <a href='../../../classes/Epoch/Chart/Base.html'>Epoch.Chart.Base</a>
      </h3>
      <p class='inherited'>
                <a href='../../../classes/Epoch/Chart/Base.html#constructor-instance'>#constructor</a>,
                <a href='../../../classes/Epoch/Chart/Base.html#setData-instance'>#setData</a>,
                <a href='../../../classes/Epoch/Chart/Base.html#update-instance'>#update</a>,
                <a href='../../../classes/Epoch/Chart/Base.html#draw-instance'>#draw</a>,
        <a href='../../../classes/Epoch/Chart/Base.html#extent-instance'>#extent</a>
      </p>
      <h3 class='inherited'>
        Methods inherited from
        <a href='../../../classes/Epoch/Events.html'>Epoch.Events</a>
      </h3>
      <p class='inherited'>
                <a href='../../../classes/Epoch/Events.html#constructor-instance'>#constructor</a>,
                <a href='../../../classes/Epoch/Events.html#on-instance'>#on</a>,
                <a href='../../../classes/Epoch/Events.html#off-instance'>#off</a>,
        <a href='../../../classes/Epoch/Events.html#trigger-instance'>#trigger</a>
      </p>
      <h2>Constructor Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='constructor-instance'>
      - (void) <strong>constructor</strong>(options)
    </p>
    <div class='docstring'>
  <p>Creates a new heatmap.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>options</span>
      <span class='type'>
        (<tt>Object</tt>)
      </span>
      &mdash;
      <span class='desc'>Options for the heatmap.</span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (option):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>buckets</span>
      <span class='type'>
        (<tt>Integer</tt>)
      </span>
      &mdash;
      <span class='desc'>Number of vertical buckets to use when normalizing the incoming histogram data for visualization in the heatmap (default: 10).</span>
    </li>
    <li>
      <span class='name'>bucketRange</span>
      <span class='type'>
        (<tt>Array</tt>)
      </span>
      &mdash;
      <span class='desc'>A range of acceptable values to be bucketed (default: [0, 100]).</span>
    </li>
    <li>
      <span class='name'>color</span>
      <span class='type'>
        (<tt>String, Function</tt>)
      </span>
      &mdash;
      <span class='desc'>The opacity coloring function to use when rendering buckets in a column. The built-in functions (referenced by string) are: &#39;root&#39;, &#39;linear&#39;, &#39;quadratic&#39;, &#39;cubic&#39;, &#39;quartic&#39;, and &#39;quintic&#39;. A custom function can be supplied given it accepts two parameters (value, max) and returns a numeric value from 0 to 1. Default: linear.</span>
    </li>
    <li>
      <span class='name'>bucketPadding</span>
      <span class='type'>
        (<tt>Number</tt>)
      </span>
      &mdash;
      <span class='desc'>Amount of padding to apply around buckets (default: 2).</span>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='setData-instance'>
      - (void) <strong>setData</strong>(data)
    </p>
    <div class='docstring'>
  <p>Prepares initially set data for rendering.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>data</span>
      <span class='type'>
        (<tt>Array</tt>)
      </span>
      &mdash;
      <span class='desc'>Layered histogram data for the visualization.</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_prepareEntry-instance'>
      - (void) <strong>_prepareEntry</strong>(entry)
    </p>
    <div class='docstring'>
  <p>Distributes the full histogram in the entry into the defined buckets
for the visualization.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>entry</span>
      <span class='type'>
        (<tt>Object</tt>)
      </span>
      &mdash;
      <span class='desc'>Entry to prepare for visualization.</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='y-instance'>
      - (Function) <strong>y</strong>()
    </p>
    <div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Function</tt>)
      &mdash;
      <span class='desc'>The y scale for the heatmap.</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='h-instance'>
      - (Number) <strong>h</strong>()
    </p>
    <div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Number</tt>)
      &mdash;
      <span class='desc'>The height to render each bucket in a column (disregards padding).</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_offsetX-instance'>
      - (Number) <strong>_offsetX</strong>()
    </p>
    <div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Number</tt>)
      &mdash;
      <span class='desc'>The offset needed to center ticks at the middle of each column.</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setupPaintCanvas-instance'>
      - (void) <strong>_setupPaintCanvas</strong>()
    </p>
    <div class='docstring'>
  <p>Creates the painting canvas which is used to perform all the actual drawing. The contents
of the canvas are then copied into the actual display canvas and through some image copy
trickery at the end of a transition the illusion of motion over time is preserved.</p><p>Using two canvases in this way allows us to render an incredible number of buckets in the
visualization and animate them at high frame rates without smashing the cpu.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_paintEntry-instance'>
      - (void) <strong>_paintEntry</strong>(entryIndex = null, drawColumn = null)
    </p>
    <div class='docstring'>
  <p>Paints a single entry column on the paint canvas at the given column.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>entryIndex</span>
      <span class='type'>
        (<tt>Integer</tt>)
      </span>
      &mdash;
      <span class='desc'>Index of the entry to paint.</span>
    </li>
    <li>
      <span class='name'>drawColumn</span>
      <span class='type'>
        (<tt>Integer</tt>)
      </span>
      &mdash;
      <span class='desc'>Column on the paint canvas to place the visualized entry.</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_shiftPaintCanvas-instance'>
      - (void) <strong>_shiftPaintCanvas</strong>()
    </p>
    <div class='docstring'>
  <p>This shifts the image contents of the paint canvas to the left by 1 column width.
It is called after a transition has ended (yay, slight of hand).</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_avgLab-instance'>
      - (String) <strong>_avgLab</strong>(entries, bucket)
    </p>
    <div class='docstring'>
  <p>Performs an averaging of the colors for muli-layer heatmaps using the lab color space.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>entries</span>
      <span class='type'>
        (<tt>Array</tt>)
      </span>
      &mdash;
      <span class='desc'>The layers for which the colors are to be averaged.</span>
    </li>
    <li>
      <span class='name'>bucket</span>
      <span class='type'>
        (<tt>Number</tt>)
      </span>
      &mdash;
      <span class='desc'>The bucket in the entries that must be averaged.</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>String</tt>)
      &mdash;
      <span class='desc'>The css color code for the average of all the layer colors.</span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='draw-instance'>
      - (void) <strong>draw</strong>(delta = 0)
    </p>
    <div class='docstring'>
  <p>Copies the paint canvas onto the display canvas, thus rendering the heatmap.</p>
</div>
<div class='tags'>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  Generated on
  Thu Aug 08 2013 23:41:06 GMT-0700 (PDT)
  by
  <a href='https://github.com/netzpirat/codo' title='CoffeeScript API documentation generator'>Codo</a>
  v1.7.0
  (Node.js v0.10.5).
  &#10034;
  Press Ctrl-h to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/#!/netzpirat'>@netzpirat</a>
  &#10034;
  <a href='https://mksoft.ch'>mksoft.ch</a>
</div>
  </body>
</html>